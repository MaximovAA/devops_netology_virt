---

## Задача 1

Дайте письменые ответы на вопросы:

- В чём отличие режимов работы сервисов в Docker Swarm-кластере: replication и global?
- Какой алгоритм выбора лидера используется в Docker Swarm-кластере?
- Что такое Overlay Network?
```
1. Существует два типа развертывания службы: реплицированное и глобальное. Для реплицируемой службы вы указываете количество идентичных задач, которые хотите запустить. 
    Например, вы решили развернуть службу HTTP с тремя репликами, каждая из которых обслуживает один и тот же контент.
    Глобальная служба — это служба, которая запускает одну задачу на каждом узле. Заранее заданного количества заданий нет. Каждый раз, когда вы добавляете узел в рой, 
    оркестратор создает задачу, а планировщик назначает задачу новому узлу. Хорошими кандидатами для глобальных служб являются агенты мониторинга, 
    антивирусные сканеры или другие типы контейнеров, которые вы хотите запускать на каждом узле в рое.
    https://docs.docker.com/engine/swarm/how-swarm-mode-works/services/
    
2. Лидер нода выбирается из управляющих нод путем Raft согласованного алгоритма.
    Сам Raft-алгоритм имеет ограничение на количество управляющих нод. Распределенные решения
    должны быть одобрены большинством управляющих узлов, называемых кворумом. Это означает, что рекомендуется нечетное количество управляющих узлов.
    https://docs.docker.com/engine/swarm/raft/
    http://thesecretlivesofdata.com/raft/

3. Общий случай логической сети, создаваемой поверх другой сети.
    Драйвер оверлейной сети создает распределенную сеть между несколькими узлами демона Docker. Эта сеть находится поверх (перекрывает) сети, 
    специфичные для хоста, позволяя контейнерам, подключенным к ней (включая контейнеры службы swarm), безопасно обмениваться данными при включенном шифровании. 
    Docker прозрачно обрабатывает маршрутизацию каждого пакета от и к правильному хосту демона Docker и правильному контейнеру назначения.
    https://docs.docker.com/network/overlay/
```
![sfdisk](https://github.com/MaximovAA/devops_netology_term/blob/main/sfdisk.jpg "Пример вывода команд")

## Задача 2

Создайте ваш первый Docker Swarm-кластер в Яндекс Облаке.

Чтобы получить зачёт, предоставьте скриншот из терминала (консоли) с выводом команды:
```
docker node ls
```
```

```
![sfdisk](https://github.com/MaximovAA/devops_netology_term/blob/main/sfdisk.jpg "Пример вывода команд")

## Задача 3

Создайте ваш первый, готовый к боевой эксплуатации кластер мониторинга, состоящий из стека микросервисов.

Чтобы получить зачёт, предоставьте скриншот из терминала (консоли), с выводом команды:
```
docker service ls
```
```

```
![sfdisk](https://github.com/MaximovAA/devops_netology_term/blob/main/sfdisk.jpg "Пример вывода команд")

## Задача 4 (*)

Выполните на лидере Docker Swarm-кластера команду, указанную ниже, и дайте письменное описание её функционала — что она делает и зачем нужна:
```
# см.документацию: https://docs.docker.com/engine/swarm/swarm_manager_locking/
docker swarm update --autolock=true
```
```

```
![sfdisk](https://github.com/MaximovAA/devops_netology_term/blob/main/sfdisk.jpg "Пример вывода команд")
